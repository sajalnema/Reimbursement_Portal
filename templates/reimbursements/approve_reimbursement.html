{% extends 'base.html' %}

{% block title %}Approve/Decline Reimbursement{% endblock %}

{% block content %}
<h2>Reimbursement Request</h2>
<p><strong>Employee:</strong> {{ reimbursement.employee.username }}</p>
<p><strong>Category:</strong> {{ reimbursement.category }}</p>
<p><strong>Amount:</strong> {{ reimbursement.amount }}</p>
<p><strong>Description:</strong> {{ reimbursement.description }}</p>
<p><strong>Status:</strong> {{ reimbursement.status }}</p>
<p><strong>Created At:</strong> {{ reimbursement.created_at }}</p>
<p><strong>Updated At:</strong> {{ reimbursement.updated_at }}</p>
<p>
    <strong>Document:</strong>
    {% if reimbursement.document %}
        <a href="{{ reimbursement.document.url }}">View Document</a>
    {% else %}
        No document uploaded.
    {% endif %}
</p>

<form method="post">
    {% csrf_token %}
    <label for="manager_comments">Manager Comments:</label>
    <textarea id="manager_comments" name="manager_comments">{{ reimbursement.manager_comments }}</textarea>
    <br>
    <label for="date">Date:</label>
    <input type="date" id="date" name="date" value="{{ reimbursement.date|date:'Y-m-d' }}">
    <br>
    <button type="submit" name="action" value="approve">Approve</button>
    <button type="submit" name="action" value="decline">Decline</button>
</form>

<p><a href="{% url 'reimbursements:list' %}">Back to List</a></p>
{% endblock %}
